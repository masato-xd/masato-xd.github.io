---
title: 企业数据安全性思考及实施
date: 2020-05-30 18:51:25
tags: system
categories: linux
---

{% note info %}

集群权限宽松，未依据业务方区分角色，且内外网未隔离 
调用及访问方式不严格，任意人员都可获取，系统、数据安全受到较大威胁

{% endnote %}

<!-- more -->

## 概述
`安全`：是一个整体的体系，环环相扣
涉及到`访问控制`，`身份认证`，`数据加密&脱敏`，`容灾恢复&备份`，`安全审计`

目前的情况并未对外，没有涉及到暴露的情况，逐步发展，一步步完善
先简单实现需求，逐步成体系

------

**从系统和服务使用两个方面进行约束**:

系统层：
>登录无权限限制，带来的问题是无法管控用户登陆后的操作，比如rm /* -rf 等无意、恶意的破坏行为，带来系统乃至集群的稳定风险
集群账号，多人共享一个账户，资源滥用，以及可能因为误操作hdfs dfs -rm /xxxx/xxxx，造成数据层面的丢失、损坏

服务层：
>知道api接口，即可随意调用资源，篡改数据
web页面，知道URL地址，任意人员即可访问

## 策略

### 框架
||问题|结果|实现方式|
|---|---|---|---|
|系统登陆管理和授权第一阶段|登陆无限制，无操作审计<br>业务角色不明，登陆权限过大<br>误操作，导致删除、修改文件，破坏系统|记录所有用户的登录和操作日志<br>权限明确划分<br>避免高危指令带来风险<br>防范非正常途径登陆服务器|堡垒机<br>按照业务，区分角色、赋权<br>命令过滤<br>root用户禁止直接登陆
||hadoop集群账号共享严重<br>数据有泄漏风险<br>历史遗留账号耗费资源<br>账号无记录，申请随意 |不因账号泄漏，造成数据被非法下载<br>通过授权后才可使用调用资源<br>相关用户引导到AGG平台<br>	核心账号调用，需多方确认，禁止个人使用 |清理过期、离职账号<br>增加密码策略定期更新<br>授权申请有记录<br>服务器访问权限，需提工单审批 |
|大数据服务收敛和api安全第二阶段|Http APi接口，无权限认证<br>WebUI 界面，无权限认证<br>hbase、yarn接口，无权限认证  |对外用户服务和入口收敛<br>启动账号认证机制<br>避免暴露非必要端口服务  |服务器IP端口，收敛<br>节点服务应该只准许与Master，CM和Gateway节点通信，禁止对集群外服务器暴露服务端口  |

### 角色说明

|角色|	说明 |
|---|---|
|运维|	仅限大数据系统维护组人员|
|研发|	仅限大数据基础平台开发人员|
|运营、分析	|主要各业务方，数据分析人员|

### 角色&权限

![权限划分](privilege.png)


## 需要完善的地方

**物理隔离**，涉及到数据的主机，锁闭机体，禁用USB接口
**网络控制**，主要通过 ACL来实现，对源地址、目的地址、源端口、目的端口和协议的访问进行控制，使用白名单。